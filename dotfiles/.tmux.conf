# To change the leader of tmux
unbind-key C-b
set-option -g prefix `
bind-key ` send-prefix

set-option -g default-shell /usr/local/bin/zsh

set -g default-terminal "xterm-256color"
set -g terminal-overrides 'xterm*:smcup <at> :rmcup <at> :colors=256'

# OSX Clipboard support
set-option -g default-command "reattach-to-user-namespace -l /usr/local/bin/zsh"
bind C-p run "tmux set-buffer $(reattach-to-user-namespace pbpaste); tmux paste-buffer"
bind C-y run "tmux save-buffer - | reattach-to-user-namespace pbcopy"

# Startup session configuration
# new -s default -n 'default'
# new-window -kd -c ~/Documents/Prog/GregsSandbox -n 'sandbox' -t 0
# new-window -d -c ~/Documents/Prog/MyConfig -n 'config'
# new-window -d -c ~/"Google Drive" -n 'org'
# new-window -d -c ~/Documents/Prog -n 'Work'

# Use Vi key binding in copy and choice mode
set-option -g mode-keys vi

# Key bindings
bind | split-window -h # in addition to "
bind - split-window -v # in addition to %

# Pane Movement
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

bind J resize-pane -D 5
bind K resize-pane -U 5
bind H resize-pane -L 5
bind L resize-pane -R 5

unbind \;

# quick pane cycling
unbind ^A
bind ^A select-pane -t :.+

# Making the copy paste bindings vi like
unbind [
bind Escape copy-mode
unbind p
bind p paste-buffer
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection

# force a reload of the config file
# Does not work well with a conf file that contains a session configuration
# unbind r
# bind r source-file ~/.tmux.conf

# Status bar
# set -g status-interval 60 # update status bar every 60 seconds
# set -g status-utf8 on # allow status bar to contain Unicode characters
# set -g status-left-length 40
# set -g status-left "[#S:#I.#P]"
# set -g status-left-bg black
# set -g status-right-length 45
# set -g status-right "%a %m/%d/%y %H:%M:%S"
# set -g status-justify centre # display window list in center of status bar
# set-window-option -g monitor-activity on # watch for activity in windows
# # setw -g window-status-current-fg white
# # setw -g window-status-current-format " #I #W "
# # setw -g window-status-format " #I #W "
# set -g visual-activity on # highlight other windows in status bar on activity

set -g status-left-length 52
set -g status-right-length 451
set -g status-fg white
set -g status-bg colour234
set -g window-status-activity-attr bold
set -g pane-border-fg colour235
set -g pane-active-border-fg colour39
set -g message-fg colour16
set -g message-bg colour221
set -g message-attr bold
set -g status-left '#[fg=colour235,bg=colour252,bold] ❐ #S #[fg=colour252,bg=colour238,nobold] #[fg=colour245,bg=colour238,bold] #(whoami) #[fg=colour238,bg=black,nobold] '
# set -g status-left '#[fg=colour235,bg=colour252,bold] ❐ #S #[fg=colour252,bg=colour238,nobold] #[fg=colour245,bg=colour238,bold] #(whoami) #[fg=colour238,bg=colour234,nobold] '
set -g window-status-format "#[fg=white,bg=black] #I #W "
set -g window-status-current-format "#[fg=black,bg=colour39] #[fg=colour25,bg=colour39,noreverse,bold] #I   #W #[fg=colour39,bg=black,nobold] "

#### COLOUR (Solarized dark)

# default statusbar colors
set-option -g status-bg black #base02
set-option -g status-fg yellow #yellow
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg brightblue #base0
set-window-option -g window-status-bg default
#set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg brightred #orange
set-window-option -g window-status-current-bg default
#set-window-option -g window-status-current-attr bright

# pane border
set-option -g pane-border-fg colour11 #base02
set-option -g pane-active-border-fg colour230 #base01

# message text
set-option -g message-bg black #base02
set-option -g message-fg brightred #orange

# pane number display
set-option -g display-panes-active-colour blue #blue
set-option -g display-panes-colour brightred #orange

# clock
set-window-option -g clock-mode-colour green #green
